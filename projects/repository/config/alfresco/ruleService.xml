<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>
 
<beans>
	
   <!-- Rules Service -->
   
   <bean id="ruleService" class="org.alfresco.repo.rule.RuleServiceImpl" init-method="init">
		<property name="nodeService">
			<ref bean="nodeService"/>
		</property>
		<property name="policyComponent">
			<ref bean="policyComponent"/>
		</property>			
		<property name="ruleStore">
			<ref bean="ruleStore"/>
		</property>
		<property name="configService">
			<ref bean="configurableService"/>
		</property>	
	  <property name="actionService">
		 <ref bean="actionService"/>
	  </property>
   </bean>
   
   <!-- Rule Store -->
   
   <bean id="ruleStore" class="org.alfresco.repo.rule.RuleStoreImpl" init-method="init">
	  <property name="nodeService">
		 <ref bean="nodeService"/>
	  </property>
	  <property name="contentService">
		 <ref bean="contentService"/>
	  </property>	
	  <property name="dictionaryService">
		 <ref bean="dictionaryService"></ref>
	  </property>
	  <property name="policyComponent">
		 <ref bean="policyComponent"/>
	  </property>	
	  <property name="configService">
		 <ref bean="configurableService"/>
	  </property>	
	  <property name="actionService">
		 <ref bean="actionService"/>
	  </property>
   </bean>
   
   <!-- Definitions for beans that use the common resource -->
   
   <bean id="rule-common-resource">
      <property name="resource">
		<value>classpath:org/alfresco/repo/rule/rule-config.properties</value>
	  </property>  
   </bean>
   
   <!-- Rule types -->
   
   <bean id="rule-type-adapter" parent="rule-common-resource" init-method="init">
	  <property name="ruleService">
		<ref bean="ruleService"/>
	  </property>					
	  <property name="policyComponent">
		<ref bean="policyComponent"/>
	  </property>
	  <property name="nodeService">
	  	<ref bean="nodeService"/>
	  </property>
   </bean>
   
   <bean id="inbound" class="org.alfresco.repo.rule.ruletype.InboundRuleTypeAdapter" parent="rule-type-adapter"/>		
   
</beans>
