<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>
 
<beans>
   
   <import resource="testredirector.xml"/>
   
   
   <bean id="namespaceDAO" class="org.alfresco.repo.dictionary.impl.NamespaceDAOImpl">
   </bean>

   <bean id="dictionaryDAO" class="org.alfresco.repo.dictionary.impl.DictionaryDAOImpl" init-method="bootstrap">
      <constructor-arg index="0">
         <ref bean="namespaceDAO"/>
      </constructor-arg>
      <property name="bootstrapModels">
         <list>
            <value>org/alfresco/repo/service/serviceregistrytest_model.xml</value>
         </list>
      </property>
   </bean>
   
   <bean id="namespaceService" class="org.alfresco.repo.dictionary.impl.DictionaryNamespaceComponent" depends-on="dictionaryDAO">
      <property name="namespaceDAO"><ref bean="namespaceDAO"/></property>
   </bean>

   <bean id="serviceRegistry" class="org.alfresco.repo.service.ServiceDescriptorRegistry">
   </bean>
      
   <bean id="alfrescoService" abstract="true" class="org.alfresco.repo.service.BeanServiceDescriptor">
      <property name="namespaceService"><ref bean="namespaceService"/></property>
      <property name="namespace"><value>http://www.alfresco.org/test/serviceregistrytest</value></property>
   </bean>

   <alias alias="test_service1" name="test1Component"/>

   <bean parent="alfrescoService">
      <property name="name">
         <value>service1</value>
      </property>
      <property name="interface">
         <value>org.alfresco.repo.service.ServiceDescriptorRegistryTest$TestServiceInterface</value>
      </property>
      <property name="description">
         <value>Test Service 1</value>
      </property>
      <property name="implementation">
         <idref bean="test_service1"/>
      </property>
   </bean>


   <bean parent="alfrescoService">
      <property name="name">
         <idref bean="service2"/>
      </property>
      <property name="interface">
         <value>org.alfresco.repo.service.ServiceDescriptorRegistryTest$TestServiceInterface</value>
      </property>
      <property name="description">
         <value>Test Service 2</value>
      </property>
      <property name="implementation">
         <idref bean="test_service2"/>
      </property>
   </bean>

   <alias alias="test_service2" name="test2Component"/>


   <bean parent="alfrescoService">
      <property name="name">
         <idref bean="service3"/>
      </property>
      <property name="interface">
         <value>org.alfresco.repo.service.StoreRedirectorProxyFactoryTest$TestServiceInterface</value>
      </property>
      <property name="description">
         <value>Test Service 3</value>
      </property>
      <property name="implementation">
         <idref bean="test_service3"/>
      </property>
   </bean>

   <alias alias="test_service3" name="service1"/>

   
   <bean id="test1Component" class="org.alfresco.repo.service.ServiceDescriptorRegistryTest$Test1Component">
   </bean>

   <bean id="test2Component" class="org.alfresco.repo.service.ServiceDescriptorRegistryTest$Test2Component">
   </bean>
   
</beans>