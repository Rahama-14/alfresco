<alfresco-config>

	<config evaluator="string-compare" condition="WebFramework">

		<!-- Extranet may want to define its links a specific way -->
		<link-builder>
			<definitions>
				<definition>
					<id>extranet</id>
					<name>Extranet Link Builder</name>
					<description>Extranet Link Builder</description>
					<class>org.alfresco.web.site.DefaultLinkBuilder</class>
				</definition>
			</definitions>
		</link-builder>

		
		<!-- Interpret our links and map back into pages -->
		<page-mapper>
			<definitions>
				<definition>
					<id>extranet</id>
					<name>Extranet Page Mapper</name>
					<description>Extranet Page Mapper</description>
					<class>org.alfresco.web.site.DefaultPageMapper</class>
				</definition>
			</definitions>
		</page-mapper>

		
		<!-- User Factory that loads User objects from Extranet user source -->
		<user>
			<factories>
				<factory>
					<id>extranet</id>
					<name>Extranet User Factory</name>
					<description>Produces Users loaded from Alfresco Repository</description>
					<class>org.alfresco.web.site.AlfrescoUserFactory</class>
				</factory>
			</factories>
		</user>
		

		<!-- Change the welcome page to our getting started one -->
		<presentation>
			<pages>
				<page>
					<id>getting-started</id>
					<title>Getting Started</title>
					<uri>/app/getting-started.jsp</uri>
				</page>
			</pages>
		</presentation>
		
	</config>	
	
	<config evaluator="string-compare" condition="WebFramework" replace="true">		

		<!-- Override defaults for the dispatcher -->
		<defaults>
			<request-context>http</request-context>
			<file-system>local</file-system>
			<format>default</format>
			<page-mapper>extranet</page-mapper>
			<link-builder>extranet</link-builder>			
			<user-factory>extranet</user-factory>			
		</defaults>

	</config>

</alfresco-config>
