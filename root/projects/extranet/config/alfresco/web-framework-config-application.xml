<alfresco-config>

   <plug-ins>
      <element-readers>
         <element-reader element-name="remote" class="org.alfresco.web.config.RemoteConfigElementReader"/>
	  </element-readers>
   </plug-ins>


	<!-- Web Framework Plugins -->
	<config evaluator="string-compare" condition="WebFramework">

		<web-framework>
		
			<link-builder>
				<id>extranet</id>
				<name>Extranet Link Builder</name>
				<description>Extranet Link Builder</description>
				<class>org.alfresco.web.site.ExtranetLinkBuilder</class>
			</link-builder>

			<page-mapper>
				<id>extranet</id>
				<name>Extranet Page Mapper</name>
				<description>Extranet Page Mapper</description>
				<class>org.alfresco.web.site.ExtranetPageMapper</class>
			</page-mapper>

			<user-factory>
				<id>extranet</id>
				<name>Extranet User Factory</name>
				<description>Produces Users loaded from Extranet Alfresco Repository</description>
				<class>org.alfresco.web.site.ExtranetUserFactory</class>
			</user-factory>

			<system-page>			
				<id>page-getting-started</id>
				<renderer>/app/getting-started.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</system-page>
			
			<framework-defaults>
				<page-mapper>extranet</page-mapper>
				<link-builder>extranet</link-builder>			
				<user-factory>extranet</user-factory>			
			</framework-defaults>

			<application-defaults>
				<theme>community</theme>
				<site-configuration>extranet.site.configuration</site-configuration>
			</application-defaults>
			
		</web-framework>
	
	</config>


	<!--  Remote Config Plugins  -->
	<config evaluator="string-compare" condition="Remote">

		<remote>

			<!-- "alfresco-system" endpoint, used by credential vault and invitation service -->
			<endpoint>
				<id>alfresco-system</id>
				<name>Alfresco - System access</name>
				<description>System account access to Alfresco</description>
				<connector-id>alfresco</connector-id>
				<endpoint-url>http://localhost:8080/alfresco/service</endpoint-url>
				<identity>declared</identity>
				<username>(FILL IN)</username>
				<password>(FILL IN)</password>
				<unsecure>true</unsecure>
				<persistent>false</persistent>
			</endpoint>			
			<endpoint>
				<id>alfresco</id>
				<name>Alfresco - user access</name>
				<description>Access to Alfresco Repository WebScripts</description>
				<connector-id>alfresco</connector-id>
				<endpoint-url>http://localhost:8080/alfresco/service</endpoint-url>
				<identity>user</identity>
				<persistent>false</persistent>				
			</endpoint>
			<endpoint>
				<id>alfresco-noauth</id>
				<name>Alfresco - unauthenticated access</name>
				<description>Access to Alfresco Repository WebScripts that do not require authentication</description>
				<connector-id>alfresco</connector-id>
				<endpoint-url>http://localhost:8080/alfresco/s</endpoint-url>
				<identity>none</identity>
			</endpoint>
			

			<endpoint>
				<id>blogs.alfresco.com</id>
				<name>blogs.alfresco.com</name>
				<description>blogs.alfresco.com</description>
				<connector-id>http</connector-id>
				<endpoint-url>http://blogs.alfresco.com</endpoint-url>
				<identity>none</identity>
				<persistent>false</persistent>
			</endpoint>

			<endpoint>
				<id>forums.alfresco.com</id>
				<name>forums.alfresco.com</name>
				<description>forums.alfresco.com</description>
				<connector-id>http</connector-id>
				<endpoint-url>http://forums.alfresco.com</endpoint-url>
				<identity>user</identity>
				<persistent>true</persistent>
			</endpoint>

			<endpoint>
				<id>wiki.alfresco.com</id>
				<name>Alfresco MediaWiki</name>
				<description>Alfresco MediaWiki</description>
				<connector-id>mediawiki</connector-id>
				<endpoint-url>http://wiki.alfresco.com</endpoint-url>
				<identity>user</identity>
				<persistent>true</persistent>				
			</endpoint>

			<endpoint>
				<id>issues.alfresco.com</id>
				<name>issues.alfresco.com</name>
				<description>issues.alfresco.com</description>
				<connector-id>http</connector-id>
				<endpoint-url>http://issues.alfresco.com</endpoint-url>
				<identity>user</identity>
				<persistent>true</persistent>				
			</endpoint>

			<endpoint>
				<id>support.alfresco.com</id>
				<name>support.alfresco.com</name>
				<description>support.alfresco.com</description>
				<connector-id>webhelpdesk</connector-id>
				<endpoint-url>http://support.alfresco.com</endpoint-url>
				<identity>user</identity>
				<persistent>true</persistent>				
			</endpoint>

			<connector>
				<id>mediawiki</id>
				<name>Media Wiki Connector</name>
				<description>Connects to a MediaWiki installation</description>
				<class>org.alfresco.connector.MediaWikiConnector</class>
				<authenticator-id>mediawiki-authenticator</authenticator-id>				
			</connector>

			<connector>
				<id>webhelpdesk</id>
				<name>WebHelpdesk Connector</name>
				<description>Connects to a WebHelpdesk installation</description>
				<class>org.alfresco.connector.WebHelpdeskConnector</class>
				<authenticator-id>webhelpdesk-authenticator</authenticator-id>				
			</connector>

			<authenticator>
				<id>webhelpdesk-authenticator</id>
				<name>WebHelpdesk Authenticator</name>
				<description>WebHelpdesk Authenticator</description>
				<class>org.alfresco.connector.WebHelpdeskAuthenticator</class>
			</authenticator>
			
			<authenticator>
				<id>mediawiki-authenticator</id>
				<name>MediaWiki Authenticator</name>
				<description>MediaWiki Authenticator</description>
				<class>org.alfresco.connector.MediaWikiAuthenticator</class>
			</authenticator>
			
			<credential-vault>
				<id>alfresco</id>
				<name>Alfresco Credential Vault</name>
				<description>Alfresco Credential Vault</description>
				<class>org.alfresco.connector.AlfrescoCredentialVault</class>
			</credential-vault>
			
			<default-credential-vault-id>alfresco</default-credential-vault-id>
		   
		</remote>
				
	</config>
	
	<!-- allow for remote invocation of components via a special url -->
	<config evaluator="string-compare" condition="UriTemplate">
		<uri-mappings>
			<uri-mapping>
				<uri-template>/c/{componentId}</uri-template>
				<url-entry>/component?componentId={componentId}</url-entry>
			</uri-mapping>
		</uri-mappings>
	</config>	

</alfresco-config>




