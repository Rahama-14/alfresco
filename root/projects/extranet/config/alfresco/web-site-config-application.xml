<alfresco-config>

	<!-- Add in additional Extranet elements -->
	<config evaluator="string-compare" condition="WebFramework">

		<link-builder>
			<definitions>
				<definition>
					<id>extranet</id>
					<name>Extranet Link Builder</name>
					<description>Extranet Link Builder</description>
					<class>org.alfresco.web.site.DefaultLinkBuilder</class>
				</definition>
			</definitions>
		</link-builder>

		<page-mapper>
			<definitions>
				<definition>
					<id>extranet</id>
					<name>Extranet Page Mapper</name>
					<description>Extranet Page Mapper</description>
					<class>org.alfresco.web.site.DefaultPageMapper</class>
				</definition>
			</definitions>
		</page-mapper>

		<user>
			<factories>
				<factory>
					<id>extranet</id>
					<name>Extranet User Factory</name>
					<description>Produces Users loaded from Alfresco Repository</description>
					<class>org.alfresco.web.site.AlfrescoUserFactory</class>
				</factory>
			</factories>
		</user>
		
	</config>	


	<config evaluator="string-compare" condition="WebFramework" replace="true">
	
		<!-- Define dispatcher settings -->
		<dispatcher>
			<error-handlers>
				<handler>
					<id>page-error</id>
					<renderer>/core/page-error.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>
				<handler>
					<id>component-error</id>
					<renderer>/core/component-error.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>
				<handler>
					<id>region-error</id>
					<renderer>/core/region-error.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>
				<handler>
					<id>region-nocomponent</id>
					<renderer>/core/region-nocomponent.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>						
				<handler>
					<id>template-error</id>
					<renderer>/core/template-error.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>
			</error-handlers>
			<system-pages>
				<page>
					<id>page-getting-started</id>
					<renderer>/app/page-gettingstarted.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</page>
				<page>
					<id>page-unconfigured</id>
					<renderer>/core/page-unconfigured.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</page>
			</system-pages>
		</dispatcher>
		
	</config>
	
	<!-- Set Extranet defaults -->
	<config evaluator="string-compare" condition="WebFramework" replace="true">

		<framework>
			<defaults>
				<request-context>http</request-context>
				<file-system>local</file-system>
				<format>default</format>
				<link-builder>extranet</link-builder>
				<page-mapper>extranet</page-mapper>
				<user-factory>extranet</user-factory>
			</defaults>
		</framework>
		
	</config>

</alfresco-config>
