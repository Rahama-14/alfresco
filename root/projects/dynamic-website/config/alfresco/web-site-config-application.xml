<alfresco-config>

	<config evaluator="string-compare" condition="WebFramework">
	
		<request-context>
			<definitions>
				<definition>
					<id>avm</id>
					<name>AVMRequestContextFactory</name>
					<description>AVMRequestContextFactory</description>
					<class>org.alfresco.web.site.AVMRequestContextFactory</class>
				</definition>
			</definitions>
		</request-context>
		
		<link-builder>
			<definitions>
				<definition>
					<id>direct</id>
					<name>Direct Link Builder</name>
					<description>Direct Link Builder</description>
					<class>org.alfresco.web.site.DirectLinkBuilder</class>
				</definition>
				<definition>
					<id>static</id>
					<name>Static Link Builder</name>
					<description>Static Link Builder</description>
					<class>org.alfresco.web.site.StaticLinkBuilder</class>
				</definition>
			</definitions>
		</link-builder>
		
		<file-system>
			<definitions>
				<definition>
					<id>avm</id>
					<name>AVM File System</name>
					<description>AVM File System</description>
					<class>org.alfresco.web.site.filesystem.AVMFileSystem</class>
					<usecache>true</usecache>
				</definition>
			</definitions>
		</file-system>
		

		<!-- InContext Settings -->
		<incontext>
			<enabled>true</enabled>
			<elements>
				<element>
					<id>content_editor</id>
					<name>Content Editor</name>
					<type>editor</type>
					<defaults>
						<enabled>true</enabled>
						<state>{x:32,y:32}</state>
					</defaults>
				</element>
				<element>
					<id>page_editor</id>
					<name>Page Editor</name>
					<type>editor</type>
					<defaults>
						<enabled>true</enabled>
					</defaults>
				</element>
				<element>
					<id>layout_editor</id>
					<name>Layout Editor</name>
					<type>editor</type>
					<defaults>
						<enabled>true</enabled>
					</defaults>
				</element>
				<element>
					<id>web_content_window</id>
					<name>Web Content</name>
					<type>window</type>
					<defaults>
						<enabled>true</enabled>
					</defaults>
				</element>
				<element>
					<id>search_window</id>
					<name>Search</name>
					<type>window</type>
					<defaults>
						<enabled>false</enabled>
					</defaults>
				</element>
				<element>
					<id>navigation_window</id>
					<name>Navigation</name>
					<type>window</type>
					<defaults>
						<enabled>false</enabled>
					</defaults>
				</element>
				<element>
					<id>web_components_window</id>
					<name>Web Components</name>
					<type>window</type>
					<defaults>
						<enabled>false</enabled>
					</defaults>
				</element>
				<element>
					<id>spaces_window</id>
					<name>Collaboration Spaces</name>
					<type>window</type>
					<defaults>
						<enabled>false</enabled>
					</defaults>
				</element>
			</elements>
		</incontext>	
		
		
	
		<!-- Include the ADW Tag Library -->
		<tags>
			<libraries>
				<library>
					<id>adw</id>
					<uri>/WEB-INF/tlds/adw.tld</uri>
					<namespace>http://www.alfresco.org/taglib/adw</namespace>				
				</library>				
			</libraries>
		</tags>
		
		<!-- Add in the HTML renderer -->
		<renderers>
			<renderer>
				<id>html</id>
				<name>HTML Renderer</name>
				<description>HTML Renderer</description>
				<class>org.alfresco.web.site.renderer.HTMLRenderer</class>
			</renderer>
		</renderers>
		
	</config>

	<config evaluator="string-compare" condition="WebFramework" replace="true">
	
		<!-- Define dispatcher settings -->
		<dispatcher>
			<error-handlers>
				<handler>
					<id>page-error</id>
					<renderer>/core/page-error.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>
				<handler>
					<id>component-error</id>
					<renderer>/core/component-error.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>
				<handler>
					<id>region-error</id>
					<renderer>/core/region-error.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>
				<handler>
					<id>region-nocomponent</id>
					<renderer>/app/region-nocomponent.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>						
				<handler>
					<id>template-error</id>
					<renderer>/core/template-error.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</handler>
			</error-handlers>
			<system-pages>
				<page>
					<id>page-getting-started</id>
					<renderer>/app/getting-started.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</page>
				<page>
					<id>page-unconfigured</id>
					<renderer>/app/unconfigured-nav-node.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</page>
				<page>
					<id>in-context</id>
					<renderer>/app/in-context.jsp</renderer>
					<renderer-type>jsp</renderer-type>
				</page>
			</system-pages>
		</dispatcher>
		
	</config>
	

	<!-- Add in additional Dynamic Website elements -->
	<config evaluator="string-compare" condition="WebFramework" replace="true">
	
		<application>
			<defaults>
				<region-chrome>dynamic-region-chrome</region-chrome>
				<component-chrome>dynamic-component-chrome</component-chrome>
				<page-types>
					<page-type>
						<id>login</id>
						<page-instance-id></page-instance-id>
					</page-type>
					<page-type>
						<id>logout</id>
						<page-instance-id></page-instance-id>
					</page-type>
				</page-types>
			</defaults>
		</application>
	
	</config>
	

</alfresco-config>
