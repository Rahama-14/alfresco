<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>
   
   <bean id="wefPluginRegistry" class="org.springframework.extensions.webeditor.WEFPluginRegistry" />
   
   <bean id="wefPluginBase" abstract="true" init-method="register">
      <property name="pluginRegistry" ref="wefPluginRegistry" />
   </bean>
   
   <bean id="wefApplication" parent="wefPluginBase" class="org.springframework.extensions.webeditor.WEFApplicationImpl">
      <property name="name" value="application.wef" />
      <property name="description" value="The application" />
      <property name="path" value="/service/wef/application" />
      <property name="variableName" value="WEFApplication" />
      <property name="dependencies">
         <list>
            <ref bean="wefBase" />
            <ref bean="wefResetCSS" />
            <ref bean="wefCSS" />
            <ref bean="wefRibbon" />
         </list>
      </property>
   </bean>
   
   <!-- TODO: Determine if these should be loaded as part of the bootstrap process -->
   <bean id="wefBase" class="org.springframework.extensions.webeditor.WEFResourceImpl">
      <property name="name" value="org.springframework.extensions.webeditor" />
      <property name="description" value="Base JavaScript for WEF" />
      <property name="path" value="/res/wef/wef.js" />
      <property name="type" value="js" />
   </bean>
   
   <bean id="wefResetCSS" class="org.springframework.extensions.webeditor.WEFResourceImpl">
      <property name="name" value="org.springframework.extensions.webeditor.reset-css" />
      <property name="description" value="Reset CSS file used by WEF" />
      <property name="path" value="/res/wef/wef-reset.css" />
      <property name="type" value="css" />
   </bean>
   
   <bean id="wefCSS" class="org.springframework.extensions.webeditor.WEFResourceImpl">
      <property name="name" value="org.springframework.extensions.webeditor.css" />
      <property name="description" value="CSS file for WEF" />
      <property name="path" value="/res/wef/wef.css" />
      <property name="type" value="css" />
   </bean>
   
   <bean id="wefRibbon" class="org.springframework.extensions.webeditor.WEFResourceImpl">
      <property name="name" value="org.springframework.extensions.webeditor.ribbon" />
      <property name="description" value="Ribbon component used to host toolbars" />
      <property name="path" value="/res/wef/ui/ribbon/ribbon.js" />
      <property name="type" value="js" />
      <property name="dependencies">
         <list>
            <ref bean="wefRibbonCSS" />
            <ref bean="wefRibbonIECSS" />
            <ref bean="wefToolbar" />
         </list>
      </property>
   </bean>
   
   <bean id="wefRibbonCSS" class="org.springframework.extensions.webeditor.WEFResourceImpl">
      <property name="name" value="org.springframework.extensions.webeditor.ribbon-css" />
      <property name="description" value="CSS file for the ribbon component" />
      <property name="path" value="/res/wef/ui/ribbon/ribbon.css" />
      <property name="type" value="css" />
   </bean>
   
   <bean id="wefRibbonIECSS" class="org.springframework.extensions.webeditor.WEFResourceImpl">
      <property name="name" value="org.springframework.extensions.webeditor.ribbon-ie-css" />
      <property name="description" value="IE specific CSS file for the ribbon component" />
      <property name="path" value="/res/wef/ui/ribbon/ribbon-ie.css" />
      <property name="type" value="css" />
   </bean>
   
   <bean id="wefToolbar" class="org.springframework.extensions.webeditor.WEFResourceImpl">
      <property name="name" value="org.springframework.extensions.webeditor.toolbar" />
      <property name="description" value="Toolbar component used in ribbon component" />
      <property name="path" value="/js/yui-toolbar.js" />
      <property name="type" value="js" />
   </bean>

   <bean id="webscript.org.springframework.extensions.webeditor.wefresources.get" class="org.springframework.extensions.webeditor.webscripts.WEFResourcesGet" parent="webscript">
      <property name="pluginRegistry" ref="wefPluginRegistry" />
   </bean>
   
   <bean id="webscript.org.springframework.extensions.webeditor.wefapplication.get" class="org.springframework.extensions.webeditor.webscripts.WEFApplicationGet" parent="webscript">
      <property name="pluginRegistry" ref="wefPluginRegistry" />
   </bean>
   
</beans>