<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" 
          "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
          
<hibernate-mapping package="org.alfresco.repo.simple.permission">
    <!-- All the authorities and their containment relationships. -->
    <class name="AuthorityEntryImpl" proxy="AuthorityEntry" optimistic-lock="version"
           table="alf_authority_entries">
        <id name="id" column="id" type="int">
            <generator class="native"/>
        </id>
        <version name="version" type="long" column="version"/>
        <property name="name" type="string" length="100" column="name" unique="true"/>
        <set name="children" table="alf_auth_children" optimistic-lock="true" 
             sort="unsorted">
            <key column="parent_id" foreign-key="fk_child_auth"/>
            <many-to-many class="AuthorityEntryImpl" column="child_id" foreign-key="fk_auth_child"/>
        </set>
    </class>
    <!-- All the capabilities. -->
    <class name="CapabilityEntryImpl" proxy="CapabilityEntry" optimistic-lock="version"
           table="alf_capability_entries">
        <id name="id" column="id" type="int">
            <generator class="native"/>
        </id>
        <version name="version" type="long" column="version"/>
        <property name="name" type="string" length="100" column="name" unique="true"/>
    </class>
</hibernate-mapping>
