<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

   <!-- jBPM configuration -->
   <bean id="jbpm_configuration" class="org.springmodules.workflow.jbpm31.LocalJbpmConfigurationFactoryBean">
      <property name="sessionFactory" ref="sessionFactory"/>
      <property name="configuration" value="classpath:org/jbpm/default.jbpm.cfg.xml"/>
      <property name="processDefinitions">
      <list>
         <ref local="jbpm_testWorkflow"/>
      </list>
      </property>
      
   </bean>

   <!-- jBPM template -->
   <bean id="jbpm_template" class="org.springmodules.workflow.jbpm31.JbpmTemplate">
      <constructor-arg index="0" ref="jbpm_configuration"/>
   </bean>

   <!-- TODO: Remove this - for short-term testing only -->
   <bean id="jbpm_testWorkflow" class="org.springmodules.workflow.jbpm31.definition.ProcessDefinitionFactoryBean">
    <property name="definitionLocation" value="classpath:org/alfresco/repo/workflow/jbpm/test_processdefinition.xml"/>
  </bean>   

</beans>
