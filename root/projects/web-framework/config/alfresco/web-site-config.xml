<alfresco-config>

   <plug-ins>
      <element-readers>
         <element-reader element-name="request-context" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="page-mapper" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="link-builder" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="file-system" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="formats" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="incontext" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="servlet" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="alfresco" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="tags" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="user" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="renderers" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="defaults" class="org.alfresco.web.config.WebSiteElementReader"/>		 
      </element-readers>
   </plug-ins>



	<config evaluator="string-compare" condition="WebFramework">
	
		<!-- request context -->
		<request-context>
			<definitions>
				<definition>
					<id>http</id>
					<name>HttpRequestContextFactory</name>
					<description>HttpRequestContextFactory</description>
					<class>org.alfresco.web.site.HttpRequestContextFactory</class>
					<store></store>
				</definition>
			</definitions>
			<filesystem>
				<cache>
					<enabled>true</enabled>
				</cache>
			</filesystem>
		</request-context>

		<!-- page mappers -->
		<page-mapper>
			<definitions>
				<definition>
					<id>default</id>
					<name>Default Page Mapper</name>
					<description>Default Page Mapper</description>
					<class>org.alfresco.web.site.DefaultPageMapper</class>
				</definition>
			</definitions>
		</page-mapper>
				
		<!-- link builders -->
		<link-builder>
			<definitions>
				<definition>
					<id>default</id>
					<name>Default Link Builder</name>
					<description>Default Link Builder</description>
					<class>org.alfresco.web.site.DefaultLinkBuilder</class>
				</definition>
			</definitions>
		</link-builder>
		

		<!-- File Systems -->		
		<file-system>
			<definitions>
				<definition>
					<id>local</id>
					<name>Local File System</name>
					<description>Local File System</description>
					<class>org.alfresco.web.site.filesystem.LocalFileSystem</class>
					<usecache>false</usecache>
					<rootpath>/</rootpath>
				</definition>
				<definition>
					<id>store</id>
					<name>Web Script Store File System</name>
					<description>Web Script Store File System</description>
					<class>org.alfresco.web.site.filesystem.StoreFileSystem</class>
					<usecache>false</usecache>
				</definition>
			</definitions>
		</file-system>
		
		
		<!-- formats -->
		<formats>
			<format>
				<id>default</id>
				<name>Default</name>
				<description>Default Format</description>
			</format>
			<format>
				<id>print</id>
				<name>Print</name>
				<description>Print Format</description>
			</format>
			<format>
				<id>wap</id>
				<name>Wireless</name>
				<description>Wireless Format</description>
			</format>
		</formats>
		
		
		<!--  url settings -->	
		<servlet>
			<dispatcher>
				<context>/adw</context>
			</dispatcher>
			<default>
				<context>/</context>
			</default>
		</servlet>


		<!--  TODO: This may not be necessary -->
		<!-- location of alfresco -->
		<alfresco>
			<authoring>
				<host>localhost</host>
				<port>8080</port>
				<webapp-uri>/alfresco</webapp-uri>
				<webscript-service-uri>/alfresco/service</webscript-service-uri>
			</authoring>
		</alfresco>


		
		<!-- tag libraries -->
		<tags>
			<libraries>
				<library>
					<id>alf</id>
					<uri>/WEB-INF/tlds/alf.tld</uri>
					<namespace>http://www.alfresco.org/taglib/alf</namespace>				
				</library>
			</libraries>
		</tags>
		


		<!-- user management -->
		<user>
			<factories>
				<factory>
					<id>default</id>
					<name>Default User Factory</name>
					<description>Produces Default Users</description>
					<class>org.alfresco.web.site.DefaultUserFactory</class>
				</factory>
				<factory>
					<id>alfresco</id>
					<name>Alfresco User Factory</name>
					<description>Produces Users loaded from Alfresco Repository</description>
					<class>org.alfresco.web.site.AlfrescoUserFactory</class>
				</factory>
			</factories>
		</user>
		
		
		
		
		<!-- renderers -->
		<renderers>
			<renderer>
				<id>jsp</id>
				<name>JSP Renderer</name>
				<description>JSP Renderer</description>
				<class>org.alfresco.web.site.renderer.JSPRenderer</class>
			</renderer>
			<renderer>
				<id>java</id>
				<name>Java Class Renderer</name>
				<description>Java Class Renderer</description>
				<class>org.alfresco.web.site.renderer.JavaClassRenderer</class>
			</renderer>
			
			<!-- Use WebScriptFramework WebScript Container -->
			<renderer>
				<id>webscript</id>
				<name>Web Script Renderer</name>
				<description>Web Script Renderer</description>
				<class>org.alfresco.web.scripts.WebScriptRenderer</class>
				<container-bean>site.webscripts.container</container-bean>
			</renderer>
			
			<!-- Use our own Template Processor -->
			<renderer>
				<id>freemarker</id>
				<name>Freemarker Renderer</name>
				<description>Freemarker Renderer</description>
				<class>org.alfresco.web.scripts.FreemarkerRenderer</class>
				<processor-bean>site.templateprocessor</processor-bean>
			</renderer>
		</renderers>
		
		
		<!-- Define system pages -->
		<page>
			<getting-started>
				<uri>/core/page-gettingstarted.jsp</uri>
			</getting-started>
			<unconfigured>
				<uri>/core/page-unconfigured.jsp</uri>
			</unconfigured>
			<region-container>
				<uri>/core/region.jsp</uri>
			</region-container>
			<region-nocomponent>
				<uri>/core/region-nocomponent.jsp</uri>
			</region-nocomponent>
			<component-error>
				<uri>/core/component-error.jsp</uri>
			</component-error>
			<page-error>
				<uri>/core/page-error.jsp</uri>
			</page-error>
			<region-error>
				<uri>/core/region-error.jsp</uri>
			</region-error>
			<template-error>
				<uri>/core/template-error.jsp</uri>
			</template-error>
		</page>
		
		
		<!-- debug tools -->
		<debug>
			<timer>
				<enabled>true</enabled>
			</timer>
		</debug>
		

		<!-- defaults -->
		<defaults>
			<request-context>http</request-context>
			<file-system>local</file-system>
			<format>default</format>
			<page-mapper>default</page-mapper>
			<link-builder>default</link-builder>			
			<user-factory>default</user-factory>			
		</defaults>
		
	</config>

</alfresco-config>