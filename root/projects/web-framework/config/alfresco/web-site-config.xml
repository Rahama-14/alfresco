<alfresco-config>

   <plug-ins>
      <element-readers>
         <element-reader element-name="request-context" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="page-mapper" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="link-builder" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="file-system" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="formats" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="incontext" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="servlet" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="alfresco" class="org.alfresco.web.config.WebSiteElementReader"/>
         <element-reader element-name="model" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="tags" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="user" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="remote" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="renderers" class="org.alfresco.web.config.WebSiteElementReader"/>
		 <element-reader element-name="defaults" class="org.alfresco.web.config.WebSiteElementReader"/>		 
      </element-readers>
   </plug-ins>



	<config evaluator="string-compare" condition="WebFramework">
	
		<!-- request context -->
		<request-context>
			<definitions>
				<definition>
					<id>http</id>
					<name>HttpRequestContextFactory</name>
					<description>HttpRequestContextFactory</description>
					<class>org.alfresco.web.site.HttpRequestContextFactory</class>
					<store></store>
				</definition>
			</definitions>
			<filesystem>
				<cache>
					<enabled>true</enabled>
				</cache>
			</filesystem>
		</request-context>

		<!-- page mappers -->
		<page-mapper>
			<definitions>
				<definition>
					<id>default</id>
					<name>Default Page Mapper</name>
					<description>Default Page Mapper</description>
					<class>org.alfresco.web.site.DefaultPageMapper</class>
				</definition>
			</definitions>
		</page-mapper>
				
		<!-- link builders -->
		<link-builder>
			<definitions>
				<definition>
					<id>default</id>
					<name>Default Link Builder</name>
					<description>Default Link Builder</description>
					<class>org.alfresco.web.site.DefaultLinkBuilder</class>
				</definition>
			</definitions>
		</link-builder>
		

		<!-- File Systems -->		
		<file-system>
			<definitions>
				<definition>
					<id>local</id>
					<name>Local File System</name>
					<description>Local File System</description>
					<class>org.alfresco.web.site.filesystem.LocalFileSystem</class>
					<usecache>false</usecache>
					<rootpath>/</rootpath>
				</definition>
				<definition>
					<id>store</id>
					<name>Web Script Store File System</name>
					<description>Web Script Store File System</description>
					<class>org.alfresco.web.site.filesystem.StoreFileSystem</class>
					<usecache>false</usecache>
				</definition>
			</definitions>
		</file-system>
		
		
		<!-- formats -->
		<formats>
			<format>
				<id>default</id>
				<name>Default</name>
				<description>Default Format</description>
			</format>
			<format>
				<id>print</id>
				<name>Print</name>
				<description>Print Format</description>
			</format>
			<format>
				<id>wap</id>
				<name>Wireless</name>
				<description>Wireless Format</description>
			</format>
		</formats>
		
		
		<!--  url settings -->	
		<servlet>
			<dispatcher>
				<context>/adw</context>
			</dispatcher>
			<default>
				<context>/</context>
			</default>
		</servlet>


		<!--  TODO: This may not be necessary -->
		<!-- location of alfresco -->
		<alfresco>
			<authoring>
				<host>localhost</host>
				<port>8080</port>
				<webapp-uri>/alfresco</webapp-uri>
				<webscript-service-uri>/alfresco/service</webscript-service-uri>
			</authoring>
		</alfresco>
		
		
		
		<!--  Model  -->
		<model>
			<rootpath>/WEB-INF/classes/alfresco</rootpath>
			<types>
				<type>
					<id>component</id>
					<name>Component</name>
					<description>Component</description>
					<namespace></namespace>
					<tagname>component</tagname>
					<class>org.alfresco.web.site.model.Component</class>
					<path>/site-data/components</path>
					<prefix>cm-</prefix>
				</type>
				<type>
					<id>component-type</id>
					<name>Component Type</name>
					<description>Component Type</description>
					<namespace></namespace>
					<tagname>component-type</tagname>
					<class>org.alfresco.web.site.model.ComponentType</class>
					<path>/site-data/component-types</path>
					<prefix>ct-</prefix>
				</type>
				<type>
					<id>configuration</id>
					<name>Configuration</name>
					<description>Configuration</description>
					<namespace></namespace>
					<tagname>configuration</tagname>
					<class>org.alfresco.web.site.model.Configuration</class>
					<path>/site-data/configurations</path>
					<prefix>co-</prefix>
				</type>
				<type>
					<id>content-association</id>
					<name>Content Association</name>
					<description>Content Association</description>
					<namespace></namespace>
					<tagname>content-association</tagname>
					<class>org.alfresco.web.site.model.ContentAssociation</class>
					<path>/site-data/content-associations</path>
					<prefix>ca-</prefix>
				</type>
				<type>
					<id>endpoint</id>
					<name>Endpoint</name>
					<description>Endpoint</description>
					<namespace></namespace>
					<tagname>endpoint</tagname>
					<class>org.alfresco.web.site.model.Endpoint</class>
					<path>/site-data/endpoints</path>
					<prefix>ep-</prefix>
				</type>
				<type>
					<id>page</id>
					<name>Page</name>
					<description>Page</description>
					<namespace></namespace>
					<tagname>page</tagname>
					<class>org.alfresco.web.site.model.Page</class>
					<path>/site-data/pages</path>
					<prefix>pg-</prefix>
				</type>
				<type>
					<id>page-association</id>
					<name>Page Association</name>
					<description>Page Association</description>
					<namespace></namespace>
					<tagname>page-association</tagname>
					<class>org.alfresco.web.site.model.PageAssociation</class>
					<path>/site-data/page-associations</path>
					<prefix>pa-</prefix>
				</type>
				<type>
					<id>template</id>
					<name>Template</name>
					<description>Template</description>
					<namespace></namespace>
					<tagname>template</tagname>
					<class>org.alfresco.web.site.model.Template</class>
					<path>/site-data/template-instances</path>
					<prefix>tm-</prefix>
				</type>
				<type>
					<id>template-type</id>
					<name>Template Type</name>
					<description>Template Type</description>
					<namespace></namespace>
					<tagname>template-type</tagname>
					<class>org.alfresco.web.site.model.TemplateType</class>
					<path>/site-data/template-types</path>
					<prefix>tt-</prefix>
				</type>
			</types>
		</model>
		
		
		<!-- tag libraries -->
		<tags>
			<libraries>
				<library>
					<id>alf</id>
					<uri>/WEB-INF/tlds/alf.tld</uri>
					<namespace>http://www.alfresco.org/taglib/alf</namespace>				
				</library>
			</libraries>
		</tags>
		


		<!-- user management -->
		<user>
			<factories>
				<factory>
					<id>guest</id>
					<name>Guest User Factory</name>
					<description>Produces Anonymous Users</description>
					<class>org.alfresco.web.site.GuestUserFactory</class>
				</factory>
				<factory>
					<id>alfresco</id>
					<name>Alfresco User Factory</name>
					<description>Produces Users loaded from Alfresco Repository</description>
					<class>org.alfresco.web.site.AlfrescoUserFactory</class>
				</factory>
			</factories>
		</user>
		
		
		
		<!-- remote connectors and authenticators -->
		<remote>
			<connectors>
				<connector>
					<id>http</id>
					<name>Http Connector</name>
					<description>HTTP Client Connector</description>
					<class>org.alfresco.connector.remote.HttpConnector</class>
				</connector>
				<connector>
					<id>web</id>
					<name>Web Connector</name>
					<description>Web Connector</description>
					<class>org.alfresco.connector.remote.WebConnector</class>
				</connector>
				<connector>
					<id>alfresco</id>
					<name>Alfresco Connector</name>
					<description>Alfresco Connector</description>
					<class>org.alfresco.web.site.remote.AlfrescoConnector</class>
				</connector>
			</connectors>
			<authenticators>
				<authenticator>
					<id>basic</id>
					<name>HTTP Basic Authenticator</name>
					<description>HTTP Basic Authenticator</description>
					<class>org.alfresco.connector.HTTPBasicAuthenticator</class>
				</authenticator>
				<authenticator>
					<id>alf_ticket</id>
					<name>Alfresco Ticket Authenticator</name>
					<description>Alfresco Ticket Authenticator</description>
					<class>org.alfresco.web.site.remote.AlfrescoAuthenticator</class>
				</authenticator>
			</authenticators>
		</remote>
		
		
		
		<!-- renderers -->
		<renderers>
			<renderer>
				<id>jsp</id>
				<name>JSP Renderer</name>
				<description>JSP Renderer</description>
				<class>org.alfresco.web.site.renderer.JSPRenderer</class>
			</renderer>
			<renderer>
				<id>java</id>
				<name>Java Class Renderer</name>
				<description>Java Class Renderer</description>
				<class>org.alfresco.web.site.renderer.JavaClassRenderer</class>
			</renderer>
			
			<!-- Use WebScriptFramework WebScript Container -->
			<renderer>
				<id>webscript</id>
				<name>Web Script Renderer</name>
				<description>Web Script Renderer</description>
				<class>org.alfresco.web.scripts.WebScriptRenderer</class>
				<container-bean>webscripts.container</container-bean>
			</renderer>
			
			<!-- Use our own Template Processor -->
			<renderer>
				<id>freemarker</id>
				<name>Freemarker Renderer</name>
				<description>Freemarker Renderer</description>
				<class>org.alfresco.web.scripts.FreemarkerRenderer</class>
				<processor-bean>site.templateprocessor</processor-bean>
			</renderer>
		</renderers>
		

		<!-- defaults -->
		<defaults>
			<request-context>http</request-context>
			<page-mapper>default</page-mapper>
			<link-builder>default</link-builder>			
			<file-system>local</file-system>
			<format>default</format>			
			<user-factory>guest</user-factory>
		</defaults>
		
	</config>

</alfresco-config>