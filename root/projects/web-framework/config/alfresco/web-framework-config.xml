<alfresco-config>

   <plug-ins>
      <element-readers>
         <element-reader element-name="web-framework" class="org.alfresco.web.config.WebFrameworkConfigElementReader"/>
	  </element-readers>
   </plug-ins>

   <config evaluator="string-compare" condition="UriTemplate">
      <!-- ordered list of URI Template mappings for application urls -->
      <!-- anything not matched is assumed to be a direct uri mapping -->
      <uri-mappings>
         <!-- simple sample/test uri mapping -->
         <uri-mapping>
            <uri-template>/sample/{page}</uri-template>
            <url-entry>/page/test/{page}</url-entry>
         </uri-mapping>
         <!-- common reusable pages - not user configurable directly - although no reason why
              preferences couldn't be applied to components etc. -->
         <uri-mapping>
            <uri-template>/site/{site}/doclib</uri-template>
            <url-entry>/page/common/tools/documentlibrary?site={site}</url-entry>
         </uri-mapping>
         <!-- simple mapping from a friendly url template to a similarly named url -->
         <uri-mapping>
            <uri-template>/site/{site}/dashboard</uri-template>
            <url-entry>/page/sites/{site}/dashboard</url-entry>
         </uri-mapping>
         <!-- multiple friendly uri templates can map to a single url entry -->
         <uri-mapping>
            <uri-template>/user/{user}/home</uri-template>
            <uri-template>/user/{user}/mydashboard</uri-template>
            <url-entry>/page/users/{user}/dashboard</url-entry>
         </uri-mapping>
         <!-- reusable user tool page - note the arbitrary url path suffix mapped to an argument -->
         <uri-mapping>
            <uri-template>/user/{user}/wiki/{path}</uri-template>
            <url-entry>/page/users/tools/wiki?user={user}&amp;article={path}</url-entry>
         </uri-mapping>
         <!-- reusable user "tool" page -->
         <uri-mapping>
            <uri-template>/user/{user}/{tool}</uri-template>
            <url-entry>/page/users/tools/{tool}?user={user}</url-entry>
         </uri-mapping>
      </uri-mappings>
   </config>

	<config evaluator="string-compare" condition="WebFramework">
	
		<!--  Web Framework Core Settings  -->
		<web-framework>
		
			<!-- Request Context Factory Implementations -->
			<request-context>
				<id>http</id>
				<name>HttpRequestContextFactory</name>
				<description>HttpRequestContextFactory</description>
				<class>org.alfresco.web.site.HttpRequestContextFactory</class>
				<store></store>
			</request-context>
			
			<!-- Page Mapper Implementation -->
			<page-mapper>
				<id>default</id>
				<name>Default Page Mapper</name>
				<description>Default Page Mapper</description>
				<class>org.alfresco.web.site.DefaultPageMapper</class>
			</page-mapper>
			
			<!-- Link Builder Implementation -->
			<link-builder>
				<id>default</id>
				<name>Default Link Builder</name>
				<description>Default Link Builder</description>
				<class>org.alfresco.web.site.DefaultLinkBuilder</class>
			</link-builder>
			
			<!-- File System Implementation (LOCAL) -->
			<file-system>
				<id>local</id>
				<name>Local File System</name>
				<description>Local File System</description>
				<class>org.alfresco.web.site.filesystem.LocalFileSystem</class>
				<use-cache>true</use-cache>
				<root-path>/</root-path>
			</file-system>
						
			<!-- Formats -->
			<format>
				<id>default</id>
				<name>Default</name>
				<description>Default Format</description>
			</format>
			<format>
				<id>print</id>
				<name>Print</name>
				<description>Print Format</description>
			</format>
			<format>
				<id>wap</id>
				<name>Wireless</name>
				<description>Wireless Format</description>
			</format>
			
			<!-- persister config -->
			<persisters>
			   <!-- delay in seconds between checking store caches are dirty -->
			   <!-- can be overriden below on a per model-type basis -->
			   <cache-check-delay>60</cache-check-delay>
			</persisters>
			
			<!-- object model -->
			<model-type>
				<id>chrome</id>
				<version>1.0</version>					
				<name>Chrome</name>
				<description>Chrome</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Chrome</class>
				<search-path-id>webframework.searchpath.chrome</search-path-id>
				<default-store-id>webframework.localstore.chrome</default-store-id>
				<!-- store cache check override example -->
				<!--<cache-check-delay>10</cache-check-delay>-->
			</model-type>
			<model-type>
				<id>component</id>
				<version>1.0</version>					
				<name>Component</name>
				<description>Component</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Component</class>
				<search-path-id>webframework.searchpath.component</search-path-id>
				<default-store-id>webframework.localstore.component</default-store-id>
			</model-type>
			<model-type>
				<id>component-type</id>
				<version>1.0</version>					
				<name>Component Type</name>
				<description>Component Type</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.ComponentType</class>
				<search-path-id>webframework.searchpath.componenttype</search-path-id>
				<default-store-id>webframework.localstore.componenttype</default-store-id>
			</model-type>
			<model-type>
				<id>configuration</id>
				<version>1.0</version>
				<name>Configuration</name>
				<description>Configuration</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Configuration</class>
				<search-path-id>webframework.searchpath.configuration</search-path-id>
				<default-store-id>webframework.localstore.configuration</default-store-id>
			</model-type>
			<model-type>
				<id>content-association</id>
				<version>1.0</version>
				<name>Content Association</name>
				<description>Content Association</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.ContentAssociation</class>
				<search-path-id>webframework.searchpath.contentassociation</search-path-id>
				<default-store-id>webframework.localstore.contentassociation</default-store-id>
			</model-type>
			<model-type>
				<id>page</id>
				<version>1.0</version>
				<name>Page</name>
				<description>Page</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Page</class>
				<search-path-id>webframework.searchpath.page</search-path-id>
				<default-store-id>webframework.localstore.page</default-store-id>
			</model-type>
			<model-type>
				<id>page-type</id>
				<version>1.0</version>
				<name>Page Type</name>
				<description>Page Type</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.PageType</class>
				<search-path-id>webframework.searchpath.pagetype</search-path-id>
				<default-store-id>webframework.localstore.pagetype</default-store-id>
			</model-type>
			<model-type>
				<id>page-association</id>
				<version>1.0</version>
				<name>Page Association</name>
				<description>Page Association</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.PageAssociation</class>
				<search-path-id>webframework.searchpath.pageassociation</search-path-id>
				<default-store-id>webframework.localstore.pageassociation</default-store-id>
			</model-type>
			<model-type>
				<id>template-instance</id>
				<version>1.0</version>
				<name>Template Instance</name>
				<description>Template Instance</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.TemplateInstance</class>
				<search-path-id>webframework.searchpath.templateinstance</search-path-id>
				<default-store-id>webframework.localstore.templateinstance</default-store-id>
			</model-type>
			<model-type>
				<id>template-type</id>
				<version>1.0</version>
				<name>Template Type</name>
				<description>Template Type</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.TemplateType</class>
				<search-path-id>webframework.searchpath.templatetype</search-path-id>
				<default-store-id>webframework.localstore.templatetype</default-store-id>
			</model-type>
			<model-type>
				<id>theme</id>
				<version>1.0</version>					
				<name>Theme</name>
				<description>Theme</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Theme</class>
				<search-path-id>webframework.searchpath.theme</search-path-id>
				<default-store-id>webframework.localstore.theme</default-store-id>
			</model-type>										

			<!-- Add in the ALF tag library -->
			<tag-library>
				<id>alf</id>
				<uri>/WEB-INF/tlds/alf.tld</uri>
				<namespace>http://www.alfresco.org/taglib/alf</namespace>				
			</tag-library>

			<!-- User Factory Implementation -->
			<user-factory>
				<id>default</id>
				<name>Default User Factory</name>
				<description>Produces Default Users</description>
				<class>org.alfresco.web.site.DefaultUserFactory</class>
			</user-factory>
			<user-factory>
				<id>alfresco</id>
				<name>Alfresco User Factory</name>
				<description>Produces Users loaded from Alfresco Repository</description>
				<class>org.alfresco.web.site.AlfrescoUserFactory</class>
			</user-factory>

			<!-- Default Renderers (JSP, Java, WebScript, Freemarker) -->		
			<renderer>
				<id>jsp</id>
				<name>JSP Renderer</name>
				<description>JSP Renderer</description>
				<class>org.alfresco.web.site.renderer.JSPRenderer</class>
			</renderer>
			<renderer>
				<id>java</id>
				<name>Java Class Renderer</name>
				<description>Java Class Renderer</description>
				<class>org.alfresco.web.site.renderer.JavaClassRenderer</class>
			</renderer>
			<renderer>
				<id>webscript</id>
				<name>Web Script Renderer</name>
				<description>Web Script Renderer</description>
				<class>org.alfresco.web.scripts.WebScriptRenderer</class>
				<container-bean>webframework.webscripts.container</container-bean>
			</renderer>
			<renderer>
				<id>freemarker</id>
				<name>Freemarker Renderer</name>
				<description>Freemarker Renderer</description>
				<class>org.alfresco.web.scripts.FreemarkerRenderer</class>
				<template-processor-bean>webframework.templateprocessor</template-processor-bean>
				<script-processor-bean>webframework.scriptprocessor</script-processor-bean>
			</renderer>
			
			<!-- Content Loaders -->
			<content-loader>
				<id>alfresco</id>
				<name>Alfresco Content Loader</name>
				<description>Loads content from an Alfresco repository</description>
				<class>org.alfresco.web.site.AlfrescoContentLoader</class>
				<endpoint>alfresco</endpoint>
			</content-loader>			
			
			<!-- Error Handler Pages -->
			<error-handler>
				<id>page-error</id>
				<renderer>/core/page-error.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</error-handler>
			<error-handler>
				<id>component-error</id>
				<renderer>/core/component-error.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</error-handler>
			<error-handler>
				<id>region-error</id>
				<renderer>/core/region-error.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</error-handler>
			<error-handler>
				<id>region-nocomponent</id>
				<renderer>/core/region-nocomponent.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</error-handler>
			<error-handler>
				<id>template-error</id>
				<renderer>/core/template-error.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</error-handler>
			
			<!-- System Pages -->
			<system-page>
				<id>page-getting-started</id>
				<renderer>/core/page-gettingstarted.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</system-page>
			<system-page>
				<id>page-unconfigured</id>
				<renderer>/core/page-unconfigured.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</system-page>
			<system-page>
				<id>page-content-not-loaded</id>
				<renderer>/core/content-not-loaded.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</system-page>
			<system-page>
				<id>page-content-association-missing</id>
				<renderer>/core/content-association-missing.jsp</renderer>
				<renderer-type>jsp</renderer-type>
			</system-page>
			
			<!-- Defaults -->
			<framework-defaults>
				<request-context>http</request-context>
				<file-system>local</file-system>
				<format>default</format>
				<page-mapper>default</page-mapper>
				<link-builder>default</link-builder>			
				<user-factory>default</user-factory>			
			</framework-defaults>
			
			<!-- Application Defaults -->
			<application-defaults>
				<theme>default</theme>
				<site-configuration>default.site.configuration</site-configuration>
				<region-chrome>default-region-chrome</region-chrome>
				<component-chrome>default-component-chrome</component-chrome>
			</application-defaults>
			
			<!-- Debug -->
			<debug>
				<timer>false</timer>
			</debug>	
			
		</web-framework>
		
	</config>

</alfresco-config>