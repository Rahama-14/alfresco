<alfresco-config>

   <plug-ins>
      <element-readers>
         <element-reader element-name="web-framework" class="org.alfresco.web.config.WebFrameworkConfigElementReader"/>
	  </element-readers>
   </plug-ins>

	<config evaluator="string-compare" condition="WebFramework">

		<!--  Web Framework Core Settings  -->
		<web-framework>

			<!-- Request Context Factory Implementations -->
			<request-context>
				<id>default</id>
				<name>DefaultRequestContextFactory</name>
				<description>DefaultRequestContextFactory</description>
				<class>org.alfresco.web.site.DefaultRequestContextFactory</class>
				<store></store>
			</request-context>

			<!-- Page Mapper Implementation -->
			<page-mapper>
				<id>default</id>
				<name>Default Page Mapper</name>
				<description>Default Page Mapper</description>
				<class>org.alfresco.web.site.DefaultPageMapper</class>
			</page-mapper>

			<!-- Link Builder Implementation -->
			<link-builder>
				<id>default</id>
				<name>Default Link Builder</name>
				<description>Default Link Builder</description>
				<class>org.alfresco.web.site.DefaultLinkBuilder</class>
			</link-builder>

			<!-- Formats -->
			<format>
				<id>default</id>
				<name>Default</name>
				<description>Default Format</description>
			</format>
			<format>
				<id>print</id>
				<name>Print</name>
				<description>Print Format</description>
			</format>
			<format>
				<id>wap</id>
				<name>Wireless</name>
				<description>Wireless Format</description>
			</format>

			<!-- persister config -->
			<persisters>
			   <!-- setting to enable the model object caching -->
			   <!-- same setting can be overriden below on a per model-type basis -->
			   <cache-enabled>true</cache-enabled>
			   
			   <!-- delay in seconds between checking store caches are dirty -->
			   <!-- same setting can be overriden below on a per model-type basis -->
			   <cache-check-delay>600</cache-check-delay>
			</persisters>

			<!-- object model -->
			<model-type>
				<id>chrome</id>
				<version>1.0</version>
				<name>Chrome</name>
				<description>Chrome</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Chrome</class>
				<search-path-id>webframework.searchpath.chrome</search-path-id>
				<default-store-id>webframework.classpathstore.chrome</default-store-id>
				<!-- store model object caching override example -->
				<!--<cache-enabled>false</cache-enabled>-->
				<!-- store cache dirty check override example -->
				<!--<cache-check-delay>10</cache-check-delay>-->
			</model-type>
			<model-type>
				<id>component</id>
				<version>1.0</version>
				<name>Component</name>
				<description>Component</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Component</class>
				<search-path-id>webframework.searchpath.component</search-path-id>
				<default-store-id>webframework.classpathstore.component</default-store-id>
			</model-type>
			<model-type>
				<id>component-type</id>
				<version>1.0</version>
				<name>Component Type</name>
				<description>Component Type</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.ComponentType</class>
				<search-path-id>webframework.searchpath.componenttype</search-path-id>
				<default-store-id>webframework.classpathstore.componenttype</default-store-id>
			</model-type>
			<model-type>
				<id>configuration</id>
				<version>1.0</version>
				<name>Configuration</name>
				<description>Configuration</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Configuration</class>
				<search-path-id>webframework.searchpath.configuration</search-path-id>
				<default-store-id>webframework.classpathstore.configuration</default-store-id>
			</model-type>
			<model-type>
				<id>content-association</id>
				<version>1.0</version>
				<name>Content Association</name>
				<description>Content Association</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.ContentAssociation</class>
				<search-path-id>webframework.searchpath.contentassociation</search-path-id>
				<default-store-id>webframework.classpathstore.contentassociation</default-store-id>
			</model-type>
			<model-type>
				<id>page</id>
				<version>1.0</version>
				<name>Page</name>
				<description>Page</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Page</class>
				<search-path-id>webframework.searchpath.page</search-path-id>
				<default-store-id>webframework.classpathstore.page</default-store-id>
			</model-type>
			<model-type>
				<id>page-type</id>
				<version>1.0</version>
				<name>Page Type</name>
				<description>Page Type</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.PageType</class>
				<search-path-id>webframework.searchpath.pagetype</search-path-id>
				<default-store-id>webframework.classpathstore.pagetype</default-store-id>
			</model-type>
			<model-type>
				<id>page-association</id>
				<version>1.0</version>
				<name>Page Association</name>
				<description>Page Association</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.PageAssociation</class>
				<search-path-id>webframework.searchpath.pageassociation</search-path-id>
				<default-store-id>webframework.classpathstore.pageassociation</default-store-id>
			</model-type>
			<model-type>
				<id>template-instance</id>
				<version>1.0</version>
				<name>Template Instance</name>
				<description>Template Instance</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.TemplateInstance</class>
				<search-path-id>webframework.searchpath.templateinstance</search-path-id>
				<default-store-id>webframework.classpathstore.templateinstance</default-store-id>
			</model-type>
			<model-type>
				<id>template-type</id>
				<version>1.0</version>
				<name>Template Type</name>
				<description>Template Type</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.TemplateType</class>
				<search-path-id>webframework.searchpath.templatetype</search-path-id>
				<default-store-id>webframework.classpathstore.templatetype</default-store-id>
			</model-type>
			<model-type>
				<id>theme</id>
				<version>1.0</version>
				<name>Theme</name>
				<description>Theme</description>
				<namespace></namespace>
				<class>org.alfresco.web.framework.model.Theme</class>
				<search-path-id>webframework.searchpath.theme</search-path-id>
				<default-store-id>webframework.classpathstore.theme</default-store-id>
			</model-type>

			<!-- Add in the ALF tag library -->
			<tag-library>
				<id>alf</id>
				<uri>/WEB-INF/tlds/alf.tld</uri>
				<namespace>http://www.alfresco.org/taglib/alf</namespace>
			</tag-library>

			<!-- User Factory Implementation -->
			<user-factory>
				<id>default</id>
				<name>Default User Factory</name>
				<description>Produces Default Users</description>
				<class>org.alfresco.web.site.DefaultUserFactory</class>
			</user-factory>
			<user-factory>
				<id>alfresco</id>
				<name>Alfresco User Factory</name>
				<description>Produces Users loaded from Alfresco Repository</description>
				<class>org.alfresco.web.site.AlfrescoUserFactory</class>
			</user-factory>

			<!-- Resource Loaders -->
			<resource-loader>
				<id>webapp</id>
				<name>Alfresco Web Application Resource Loader</name>
				<description>Loads content from an Alfresco Web Application Repository</description>
				<class>org.alfresco.web.framework.resource.AlfrescoWebProjectResourceLoader</class>
				<endpoint>alfresco</endpoint>
			</resource-loader>
			<resource-loader>
				<id>space</id>
				<name>Alfresco Spaces Resource Loader</name>
				<description>Loads content from an Alfresco Spaces Repository</description>
				<class>org.alfresco.web.framework.resource.AlfrescoSpaceResourceLoader</class>
				<endpoint>alfresco</endpoint>
			</resource-loader>
			
			<!-- Resource Resolvers -->
			<resource-resolver>
				<id>webapp</id>
				<name>Alfresco Web Application Resource Resolver</name>
				<description>Resolves data access for web application assets</description>
				<class>org.alfresco.web.framework.resource.AlfrescoWebProjectResourceResolver</class>
				
				<!-- Defines the web alias for deployed web assets
				<alias-uri>/assets</alias-uri>
				-->
				
				<!-- Defines the store to which we should bind
				<store-id>uzi11</store-id>
				-->
				
			</resource-resolver>
			<resource-resolver>
				<id>space</id>
				<name>Alfresco Space Resource Resolver</name>
				<description>Resolves data access for alfresco spaces content</description>
				<class>org.alfresco.web.framework.resource.AlfrescoSpaceResourceResolver</class>
			</resource-resolver>
			<resource-resolver>
				<id>site</id>
				<name>Alfresco Site Resource Resolver</name>
				<description>Resolves data access for alfresco sites content</description>
				<class>org.alfresco.web.framework.resource.AlfrescoSiteResourceResolver</class>
			</resource-resolver>
			<resource-resolver>
				<id>uri</id>
				<name>URI Resource Resolver</name>
				<description>Resolves data access for uris</description>
				<class>org.alfresco.web.framework.resource.URIResourceResolver</class>
			</resource-resolver>

			<!-- Error Handler Pages -->
			<error-handler>
				<id>page-error</id>
				<processor-id>jsp</processor-id>
				<jsp-path>/core/page-error.jsp</jsp-path>				
			</error-handler>
			<error-handler>
				<id>component-error</id>
				<processor-id>jsp</processor-id>
				<jsp-path>/core/component-error.jsp</jsp-path>				
			</error-handler>
			<error-handler>
				<id>region-error</id>
				<processor-id>jsp</processor-id>
				<jsp-path>/core/region-error.jsp</jsp-path>				
			</error-handler>
			<error-handler>
				<id>region-nocomponent</id>
				<processor-id>jsp</processor-id>
				<jsp-path>/core/region-nocomponent.jsp</jsp-path>				
			</error-handler>
			<error-handler>
				<id>template-error</id>
				<processor-id>jsp</processor-id>
				<jsp-path>/core/template-error.jsp</jsp-path>				
			</error-handler>

			<!-- System Pages -->
			<system-page>
				<id>page-getting-started</id>
				<processor-id>jsp</processor-id>
				<jsp-path>/core/page-gettingstarted.jsp</jsp-path>				
			</system-page>
			<system-page>
				<id>page-unconfigured</id>
				<processor-id>jsp</processor-id>>
				<jsp-path>/core/page-unconfigured.jsp</jsp-path>
			</system-page>
			<system-page>
				<id>page-content-not-loaded</id>
				<processor-id>jsp</processor-id>
				<jsp-path>/core/content-not-loaded.jsp</jsp-path>				
			</system-page>
			<system-page>
				<id>page-content-association-missing</id>
				<processor-id>jsp</processor-id>
				<jsp-path>/core/content-association-missing.jsp</jsp-path>				
			</system-page>

			<!-- Defaults -->
			<framework-defaults>
				<request-context>default</request-context>
				<format>default</format>
				<page-mapper>default</page-mapper>
				<link-builder>default</link-builder>
				<user-factory>default</user-factory>
			</framework-defaults>

			<!-- Application Defaults -->
			<application-defaults>
				<theme>default</theme>
				<site-configuration>default.site.configuration</site-configuration>
				<region-chrome>default-region-chrome</region-chrome>
				<component-chrome>default-component-chrome</component-chrome>
			</application-defaults>

			<!-- Debug -->
			<debug>
				<timer>false</timer>
			</debug>
			
			<!-- Web Studio - inform Surf of its whereabouts -->
			<web-studio>
				<mode>disabled</mode>
				<location>${contextPath}/proxy/alfresco-web-studio</location>
			</web-studio>			

		</web-framework>

	</config>	
	
   <config evaluator="string-compare" condition="UriTemplate">
      <!-- ordered list of URI Template mappings for application urls -->
      <!-- anything not matched is assumed to be a direct uri mapping -->
      <!-- generally these URLs are exposed via the Shortcut URL Servlet i.e. /s/* -->
      <uri-mappings>
         <!-- simple sample/test uri mapping
         <uri-mapping>
            <uri-template>/sample/{page}</uri-template>
            <url-entry>/page/test/{page}</url-entry>
         </uri-mapping>
         -->
         <!-- common reusable pages examples - not user configurable directly - although no reason why
              preferences couldn't be applied to components etc.
         <uri-mapping>
            <uri-template>/site/{site}/doclib</uri-template>
            <url-entry>/page/common/tools/documentlibrary?site={site}</url-entry>
         </uri-mapping>
         -->
         <!-- simple mapping from a friendly url template to a similarly named url
         <uri-mapping>
            <uri-template>/site/{site}/dashboard</uri-template>
            <url-entry>/page/sites/{site}/dashboard</url-entry>
         </uri-mapping>
         -->
         <!-- multiple friendly uri templates can map to a single url entry
         <uri-mapping>
            <uri-template>/user/{user}/home</uri-template>
            <uri-template>/user/{user}/mydashboard</uri-template>
            <url-entry>/page/users/{user}/dashboard</url-entry>
         </uri-mapping>
         -->
         <!-- reusable user tool page - note the arbitrary url path suffix mapped to an argument
         <uri-mapping>
            <uri-template>/user/{user}/wiki/{path}</uri-template>
            <url-entry>/page/users/tools/wiki?user={user}&amp;article={path}</url-entry>
         </uri-mapping>
         -->
         <!-- reusable user "tool" page
         <uri-mapping>
            <uri-template>/user/{user}/{tool}</uri-template>
            <url-entry>/page/users/tools/{tool}?user={user}</url-entry>
         </uri-mapping>
         -->
      </uri-mappings>
   </config>

</alfresco-config>