<component>
    <name>alfrescofunctions</name>
    <description/>
    <canBeEdited>0</canBeEdited>
    <selected>1</selected>
    <show>0</show>
    <functionDefinitionList>
        <actionDefinition name="alfrescoConfigure">
            <parameterList>
                <stringParameter name="alfrescoFiles" />
            </parameterList>
            <actionList>
	        <substitute>
		    <files>${alfrescoFiles}</files>
		    <substitutionList>
		        <substitution>
                            <pattern>@@BITROCK_INSTALLDIR@@</pattern>
                            <value>${installdir}</value>
                        </substitution>
		        <substitution>
                            <pattern>@@BITROCK_ALFRESCO_IMAGEMAGICK_ROOTDIR@@</pattern>
                            <value>${imagemagick_root_directory.unix}</value>
                            <ruleList>
                                <platformTest type="unix"/>
                            </ruleList>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_ALFRESCO_IMAGEMAGICK_ROOTDIR@@</pattern>
                            <value>${imagemagick_root_directory.dos.unix}</value>
                            <ruleList>
                                <platformTest type="windows"/>
                            </ruleList>
                        </substitution>
		        <substitution>
                            <pattern>@@BITROCK_OO_ROOTDIR@@</pattern>
                            <value>${openoffice_directory.unix}</value>
                            <ruleList>
                                <platformTest type="unix"/>
                            </ruleList>
                        </substitution>
		        <substitution>
                            <pattern>@@BITROCK_OO_ROOTDIR@@</pattern>
                            <value>${openoffice_directory.dos.unix}</value>
                            <ruleList>
                                <platformTest type="windows"/>
                            </ruleList>
                        </substitution>
		        <substitution>
                            <pattern>@@BITROCK_OPENOFFICE_PROGRAM_DIR@@</pattern>
                            <value>${openoffice_directory.dos.unix}/App/openoffice/program/soffice.exe</value>
                            <ruleList>
                                <platformTest type="windows"/>
                            </ruleList>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_OPENOFFICE_PROGRAM_DIR@@</pattern>
                            <value>${openoffice_directory}/program/soffice.bin</value>
                            <ruleList>
                                <platformTest type="linux"/>
                            </ruleList>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_OPENOFFICE_PROGRAM_DIR@@</pattern>
                            <value>${openoffice_directory}/Contents/MacOs/soffice.bin</value>
                            <ruleList>
                                <platformTest type="osx"/>
                            </ruleList>
                        </substitution>
			<substitution>
                            <pattern>{img.root}/bin/convert</pattern>
                            <value>{img.root}/convert</value>
                            <ruleList>
			      <platformTest type="windows"/>
			    </ruleList>
			</substitution>
			<substitution>
                            <pattern>@@BITROCK_PDF2SWF_PATH@@</pattern>
                            <value>${installdir.dos.unix}/swftools/pdf2swf.exe</value>
                            <ruleList>
                                <platformTest type="windows"/>
                            </ruleList>
                        </substitution>
			<substitution>
                            <pattern>@@BITROCK_PDF2SWF_PATH@@</pattern>
                            <value>${installdir.unix}/common/bin/pdf2swf</value>
                            <ruleList>
                                <platformTest type="unix"/>
                            </ruleList>
			</substitution>
		        <substitution>
                            <pattern>@@BITROCK_MYSQL_PORT@@</pattern>
                            <value>${database_port}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_DATA_DIR@@</pattern>
                            <value>${alfresco_data_directory.dos.unix}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_COMMON_ROOTDIR@@</pattern>
                            <value>${installdir.dos.unix}/common/</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_DB_USER@@</pattern>
                            <value>${alfresco_database_user}</value>
                        </substitution>
                        <substitution>
                           <pattern>@@BITROCK_DB_PASSWORD@@</pattern>
                            <value>${alfresco_database_password}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_DB_NAME@@</pattern>
                            <value>${alfresco_database_name}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_ALFRESCO_ADMIN_PASSWORD@@</pattern>
                            <value>${alfresco_admin_password_md4}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_FTP_PORT@@</pattern>
                            <value>${alfresco_ftp_port}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_RMI_PORT@@</pattern>
                            <value>${alfresco_rmi_port}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_TOMCAT_PORT@@</pattern>
                            <value>${application_server_port}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_SHAREPOINT_PORT@@</pattern>
                            <value>${alfresco_sharepoint_port}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_QUICKR_PORT@@</pattern>
                            <value>${alfresco_quickr_port}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_QUICKR_HOST@@</pattern>
                            <value>${alfresco_quickr_host}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_TOMCAT_DIRNAME@@</pattern>
                            <value>${tomcat_dirname}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_JAVA_HOME_UNIX@@</pattern>
                            <value>${java_home_directory.unix}</value>
                        </substitution>
                        <substitution>
                            <pattern>@@BITROCK_JAVA_HOME_WIN@@</pattern>
                            <value>${java_home_directory.dos}</value>
                        </substitution>
                    </substitutionList>
		</substitute>
            </actionList>
        </actionDefinition>
    </functionDefinitionList>
</component>
