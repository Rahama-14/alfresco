<?xml version="1.0" encoding="UTF-8"?>

<!-- Definition of Records Management Model -->

<!-- Note: the rma: namespace is defined further on in the document -->
<model name="rma:recordsmanagement" xmlns="http://www.alfresco.org/model/dictionary/1.0">

   <!-- Meta-data about the model -->   
   <description>Records Management Model</description>
   <author>Roy Wetherall</author>
   <version>1.0</version>

   <!-- Imports are required to allow references to definitions in other models -->   
   <imports>
      <!-- Import Alfresco Dictionary Definitions -->
      <import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d"/>
      <!-- Import Alfresco Content Domain Model Definitions -->
      <import uri="http://www.alfresco.org/model/content/1.0" prefix="cm"/>
      <!-- Import Alfresco Content Domain Model Definitions -->
      <import uri="http://www.alfresco.org/model/system/1.0" prefix="sys" />
   </imports>

   <!-- Records Management Namespace -->
   <namespaces>
      <namespace uri="http://www.alfresco.org/model/recordsmanagement/1.0" prefix="rma"/>
   </namespaces>
   
   <constraints>
      <constraint name="rma:smList" type="LIST">
         <parameter name="allowedValues">
            <list>
               <value>NOFORN</value>      <!-- Not Releasable to Foreign Nationals/Governments/Non-US Citizens -->
               <value>NOCONTRACT</value>  <!-- Not Releasable to Contractors or Contractor/Consultants -->
               <value>FOUO</value>        <!-- For Official Use Only -->
            </list>
         </parameter>
         <parameter name="caseSensitive"><value>true</value></parameter>
      </constraint>
   </constraints>
   
   <types>
   
      <type name="rma:filePlan">
      
         <title>File Plan</title>
         <parent>cm:folder</parent>
         
         <associations>
            
            <child-association name="rma:filedRecords">
               	<source>
                  	<mandatory>false</mandatory>
                  	<many>false</many>
               	</source>
               	<target>
                  	<class>cm:content</class>
                  	<mandatory>false</mandatory>
                  	<many>true</many>
            	</target>
            </child-association>
         
         </associations>
       
         
      </type>
      
      <type name="rma:recordSeries">
         <title>Record Series</title>
         <parent>cm:folder</parent>
         
         <mandatory-aspects>               
            <aspect>cm:titled</aspect>               
            <aspect>rma:recordComponentIdentifier</aspect>
         </mandatory-aspects>         
         
      </type>      
      
      <type name="rma:recordCategory">
      
         <title>Record Category</title>
         <parent>cm:folder</parent>
         
         <properties>
            
            <!-- cm:name used for the Record Category Name -->
            <!-- cm:description used for Record Category Decription --> 
            
            <property name="rma:dispositionAuthority">
               <title>Disposition Authority</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
            </property>
            
            <property name="rma:dispositionInstructions">
               <title>Disposition Instructions</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
            </property>
                                       
            <property name="rma:cutOffSchedulePeriod">
               <title>Cut off schedule period</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
               <default>none|0</default>
            </property>
            
            <property name="rma:retentionSchedulePeriod">
               <title>Retention schedule period</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
               <default>none|0</default>
            </property>
            
            <property name="rma:accessionIndicator">
               <title>Accession Indicator</title>
               <type>d:boolean</type>
               <mandatory>true</mandatory>
               <default>false</default>
            </property>
            
            <property name="rma:accessionLocation">
               <title>Accession Location</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
               <default>NARA</default>
            </property>
                               
            <property name="rma:accessionPeriod">
               <title>Accession Period</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
               <default>year|25</default>
            </property>
    
         </properties>
         
         <associations>
            
            <child-association name="rma:dispositionActions">
               	<source>
                  	<mandatory>false</mandatory>
                  	<many>false</many>
               	</source>
               	<target>
                  	<class>rma:dispositionAction</class>
                  	<mandatory>false</mandatory>
                  	<many>true</many>
            	</target>
            </child-association>
         
         </associations>
         
         <mandatory-aspects>         
            <aspect>cm:titled</aspect>            
            <aspect>rma:recordComponentIdentifier</aspect>
            <aspect>rma:fileable</aspect>
            <aspect>rma:reviewDetails</aspect>
         </mandatory-aspects>
         
      </type>      
      
      <type name="rma:recordFolder">
         
         <title>Record Folder</title>
         <parent>cm:folder</parent>
         
         <properties>
                    
            <!-- cm:name used for the Folder Identifier -->
            <!-- cm:title used for the Folder Name -->   
                                    
            <property name="rma:recordFolderLocation">
               <title>Record Folder Location</title>
               <type>d:text</type>
               <mandatory>false</mandatory>
            </property>        
                                   
            <property name="rma:recordFolderSupplementalMarkingList">
               <title>Record Folder Supplemental Marking List</title>
               <type>d:text</type>
               <mandatory>false</mandatory>
               <multiple>true</multiple>
               <constraints>
                  <constraint ref="rma:smList"/>
               </constraints>
            </property>
                                                     
            <property name="rma:isClosed">
               <title>Indicates whether the folder is closed</title>
               <type>d:boolean</type>
               <mandatory>true</mandatory>
               <default>false</default>
            </property>
            
         </properties>       
         
         <mandatory-aspects>         
            <aspect>cm:titled</aspect>
            <aspect>rma:recordComponentIdentifier</aspect>
            <aspect>rma:fileable</aspect>
            <aspect>rma:reviewDetails</aspect>
         </mandatory-aspects>
         
      </type>
      
      <type name="rma:dispositionAction">
         
         <title>Disposition Action</title>
         <parent>cm:cmobject</parent>
         
         <properties>
                    
            <property name="rma:dispositionAction">
               <title>Disposition action to take</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
            </property>        
                                   
            <property name="rma:dispositionPeriod">
               <title>Period after which the disposition will take place</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
               <default>immediately|0</default>
            </property>
            
         </properties>       
      
      </type>
   	
   </types>
   
   <aspects>
   
      <aspect name="rma:incompleteRecord">
         <title>Incomplete Record</title>
         <description>Used to mark a record that is incomplete and has yet to be filed.</description>         
      </aspect>
   
      <aspect name="rma:fileable">
         <title>Used to mark object types that are fileable</title>         
      </aspect>
   
      <aspect name="rma:recordComponentIdentifier">
         <title>Record component identifier</title>         
         <properties>                
            <property name="rma:identifier">
               <title>Record Component Identifier</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
            </property>
         </properties>
      </aspect>
      
      <aspect name="rma:reviewDetails">
         <title>Review Indicator</title>                  
         <properties>                                  
            <property name="rma:reviewPeriod">
               <title>Review Period</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
               <default>none|0</default>
            </property>            
         </properties>         
      </aspect>
      
      <!-- Record Meta-data -->
         
      <aspect name="rma:record">
         <title>Record</title>
         
         <properties>
         
            <!-- rma:identifier used for the Unique Record Identifier -->
            <!-- cm:title used for the Title -->
            
            <property name="rma:dateFiled">
               <title>Date Filed</title>
               <type>d:date</type>
               <mandatory>true</mandatory>
            </property>
            
            <property name="rma:publicationDate">
               <title>Publication Date</title>
               <type>d:date</type>
               <mandatory>true</mandatory>
            </property>
            
            <property name="rma:originator">
               <title>Originator</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
            </property>
            
            <property name="rma:originatingOrganization">
               <title>Originating Organization</title>
               <type>d:text</type>
               <mandatory>true</mandatory>
            </property>
                                   
            <property name="rma:supplementalMarkingList">
               <title>Supplemental Marking List</title>
               <type>d:text</type>
               <mandatory>false</mandatory>
               <multiple>true</multiple>
               <constraints>
                  <constraint ref="rma:smList"/>
               </constraints>
            </property>
                                    
            <property name="rma:mediaType">
               <title>Media Type</title>
               <type>d:text</type>
               <mandatory>false</mandatory>
            </property>
                        
            <property name="rma:format">
               <title>Format</title>
               <type>d:text</type>
               <mandatory>false</mandatory>
            </property>
                        
            <property name="rma:dateReceived">
               <title>Date Received</title>
               <type>d:date</type>
               <mandatory>false</mandatory>
            </property> 
                        
            <!-- TODO
                 Do we need to model this as broken up address?  
                 Should we have a separate property for other address or just a multivalue property?
            -->           
            <property name="rma:address">
               <title>Address</title>
               <type>d:text</type>
               <mandatory>false</mandatory>
            </property>                        
            <property name="rma:otherAddress">
               <title>Other Address</title>
               <type>d:text</type>
               <mandatory>false</mandatory>
            </property>     
                                    
            <property name="rma:location">
               <title>Location</title>
               <type>d:text</type>
               <mandatory>false</mandatory>
            </property>                                        
         
         </properties>         
         
         <mandatory-aspects>         
            <aspect>cm:titled</aspect>           
            <aspect>rma:recordComponentIdentifier</aspect>
         </mandatory-aspects>
         
      </aspect>
   
   
	  <!-- State management aspects -->   
   
   	  <aspect name="rma:pendingReview">
         <title>Pending Review</title>         
         <properties>                
            <property name="rma:reviewAsOf">
               <title>Review as of date</title>
               <type>d:date</type>
               <mandatory>false</mandatory>
            </property>
         </properties>
      </aspect>	
   
   	  <aspect name="rma:pendingCutOff">
         <title>Pending cut off</title>         
         <properties>                
            <property name="rma:cutOffAsOf">
               <title>Cut off as of date</title>
               <type>d:date</type>
               <mandatory>false</mandatory>
            </property>
         </properties>
      </aspect>	
   
      <aspect name="rma:cutOff">
         <title>Cut Off</title>         
         <properties>                
            <property name="rma:destroyAsOf">
               <title>Destruction as of date</title>
               <type>d:date</type>
               <mandatory>false</mandatory>
            </property>
         </properties>
      </aspect>
      
      <aspect name="rma:retained">
         <title>Retained</title>         
         <properties>                
            <property name="rma:endRetentionAsOf">
               <title>End retention as of date</title>
               <type>d:date</type>
               <mandatory>false</mandatory>
            </property>
         </properties>
      </aspect>      
      
      <!-- Custom properties marker aspects -->      
      
      <aspect name="rma:customRecordCategoryProperties">
         <title>Custom Record Category Properties</title>
      </aspect>
            
      <aspect name="rma:customRecordFolderProperties">
         <title>Custom Record Folder Properties</title>         
      </aspect>      
      
      <aspect name="rma:customRecordProperties">
         <title>Custom Record Properties</title>
      </aspect>
      
   </aspects>
   
</model>