<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>
   <!--  <import resource="classpath:alfresco/module/ask/bootstrap-context.xml" /> -->
    <bean id="askConfigBootstrap" class="org.alfresco.web.config.WebClientConfigBootstrap" init-method="init">
       <property name="configs">
         <list>
            <value>classpath:alfresco/module/ask/ui/web-client-ask-config-custom.xml</value>
         </list>
       </property>
    </bean>
    
   <bean id="ask.workflowBootstrap" parent="workflowDeployer">
		<property name="workflowDefinitions">
      <list>
            <props>
              <prop key="engineId">jbpm</prop>
              <prop key="location">alfresco/module/ask/model/ask-review-process-definition.xml</prop>
              <prop key="mimetype">text/xml</prop>
              <prop key="redeploy">true</prop>
            </props>
      </list>
		</property>
		<property name="models">
			<list>
			   <!-- NOTE: The above process definition relies on the default workflowModel.xml -->
			   <!--       which is already registered during Alfresco startup. -->
			   <!--       See bootstrap-context.xml (workflowBootstrap). -->
			   <!-- <value>alfresco/extension/workflow/workflow_lifecycle_model.xml</value> -->
			</list>
		</property>
		<property name="labels">
			<list>
			   <!-- NOTE: The above process definition relies on the default workflow-messages.properties -->
			   <!--       which is already registered during Alfresco startup -->
			   <!--       See bootstrap-context.xml (workflowBootstrap). -->
			   <!-- <value>alfresco/extension/workflow/workflow-messages</value> -->
			</list>
		</property>
	</bean>

  <bean id="ask.dictionaryBootstrap" parent="dictionaryModelBootstrap" depends-on="dictionaryBootstrap">
  	<property name="models">
    	<list>
      	<value>alfresco/module/ask/model/askModel.xml</value>
        <value>alfresco/module/ask/model/contentHitsModel.xml</value>
        
      </list>
  	</property>
  </bean>
    
  <!-- ContentHits Aspect Behaviour Bean -->
  <bean id="askContentHitsAspect" class="org.alfresco.sample.contentHits.ContentHitsAspect" init-method="initialise">
  	<property name="nodeService">
    	<ref bean="nodeService"/>
    </property>
    <property name="policyComponent">
    	<ref bean="policyComponent"/>
    </property>
  </bean>
    
   
  <bean id="ask.bootstrapSpaces" class="org.alfresco.repo.module.ImporterModuleComponent" parent="module.baseComponent">
  	<property name="moduleId" value="org.alfresco.ask" />
    <property name="name" value="bootstrapSpaces" />
    <property name="description" value="Initial data requirements" />
    <property name="sinceVersion" value="1.0" />
    <property name="appliesFromVersion" value="1.0" />
    
    <property name="importer" ref="spacesBootstrap"/>
    <property name="bootstrapViews">
    	<list>
    	<!--  <props>
      		<prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}</prop>
        	<prop key="location">alfresco/module/ask/bootstrap/kb_data_dictionary.xml</prop>
      	</props>
      	<props>
        	<prop key="path">/cm:categoryRoot/cm:generalclassifiable</prop>
          <prop key="location">alfresco/module/ask/bootstrap/kb_categories.xml</prop>
        </props>
    	<props>
      		<prop key="path">/${spaces.company_home.childname}</prop>
        	<prop key="location">alfresco/module/ask/bootstrap/kb_space.xml</prop>
      	</props>       
      	        <props>
      		<prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}</prop>
        	<prop key="location">alfresco/module/ask/bootstrap/knowledge_base.acp</prop>
      	</props> 
    	-->
    	<props>
        	<prop key="path">/cm:categoryRoot/cm:generalclassifiable</prop>
          <prop key="location">alfresco/module/ask/bootstrap/kb_categories.xml</prop>
        </props>
        <props>
        <prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}</prop>
        	<prop key="location">alfresco/module/ask/bootstrap/kb_data_dictionary.xml</prop>
      	</props>
    	
		<props>
      		<prop key="path">/${spaces.company_home.childname}</prop>
        	<prop key="location">alfresco/module/ask/bootstrap/kb_space.xml</prop>
      	</props>         
        
        <props>
            <prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}/cm:webscripts/cm:org/cm:alfresco</prop>
            <prop key="location">alfresco/module/ask/bootstrap/kb_webscripts.xml</prop>
        </props>
      	
        <!--  <props>
            <prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}/${spaces.templates.content.childname}</prop>
            <prop key="location">alfresco/module/ask/template/template-import.xml</prop>
        </props>
     
        <props>
            <prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}/${spaces.scripts.childname}</prop>
            <prop key="location">alfresco/module/ask/script/script-import.xml</prop>
        </props>    -->     
    	
    	</list>
    </property>
  </bean>
    
</beans>

