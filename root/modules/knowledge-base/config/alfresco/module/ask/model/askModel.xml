<?xml version="1.0" encoding="UTF-8"?>

<!-- Definition of new Model -->

<!-- The important part here is the name - Note: the use of the my: namespace
     which is defined further on in the document -->
<model name="ask:asknewmodel" xmlns="http://www.alfresco.org/model/dictionary/1.0">

   <!-- Optional meta-data about the model -->   
   <description>Example custom Model</description>
   <author></author>
   <version>1.0</version>

   <!-- Imports are required to allow references to definitions in other models -->   
   <imports>
   	  <!-- Import Alfresco Dictionary Definitions -->
      <import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d"/>
      <!-- Import Alfresco Content Domain Model Definitions -->
      <import uri="http://www.alfresco.org/model/content/1.0" prefix="cm"/>
   </imports>

   <!-- Introduction of new namespaces defined by this model -->
   <!-- NOTE: The following namespace my.new.model should be changed to reflect your own namespace -->
   <namespaces>
      <namespace uri="ask.new.model" prefix="ask"/>
   </namespaces>
   
      <constraints>
      <constraint name="cm:filename" type="REGEX">
         <parameter name="expression"><value><![CDATA[[^\"\*\\\>\<\?\/\:\|\¬\£\%\&\+\;]+]]></value></parameter>
         <parameter name="requiresMatch"><value>true</value></parameter>
      </constraint>
      <constraint name="ask:authorisedBy" type="LENGTH">
         <parameter name="minLength"><value>3</value></parameter>
         <parameter name="maxLength"><value>6</value></parameter>
      </constraint>
      <constraint name="ask:daysAuthorised" type="MINMAX">
         <parameter name="minValue"><value>1</value></parameter>
         <parameter name="maxValue"><value>365</value></parameter>
      </constraint>
      <constraint name="ask:status" type="LIST">
         <parameter name="allowedValues">
            <list>
               <value>Draft</value>
               <value>Pending Approval</value>
               <value>Current</value>
               <value>Archived</value>
            </list>
         </parameter>
      </constraint>
      <constraint name="ask:article_type" type="LIST">
         <parameter name="allowedValues">
            <list>
               <value>Any</value>
               <value>Article</value>
               <value>FAQ</value>
               <value>White Paper</value>
            </list>
         </parameter>
      </constraint>
     
      <constraint name="ask:visibility" type="LIST">
         <parameter name="allowedValues">
            <list>
               <value>Internal</value>
               <value>Partners</value>
               <value>Partners and Customers</value>
            </list>
         </parameter>
      </constraint>

   </constraints>
   
   <types>
          
   </types>
    
    
    <aspects>
       <aspect name="ask:status">
         <title>Status</title>
         <properties>
            <property name="ask:status">
               <title>Status</title>
               <type>d:text</type>
               <default>Draft</default>
               <constraints>
                  <constraint ref="ask:status" />
               </constraints>
            </property>
         </properties>
       </aspect>    
       
          

      <aspect name="ask:article">
         <title>Article</title>
         <properties>
            
            <property name="ask:article_type">
               <title>Article Type</title>
               <type>d:text</type>
               <default>Article</default> 
                  <constraints>
                  <constraint ref="ask:article_type" />
               </constraints>
            </property>

            

            <property name="ask:tags">
               <title>Tag(s)</title>
               <type>d:text</type>
               <multiple>true</multiple>
            </property>
            
            <property name="ask:alfresco_version">
               <title>Alfresco Version</title>
               <type>d:category</type>
               <multiple>true</multiple>
            </property>
            
            <property name="ask:error_messages">
               <title>Error Message(s)</title>
               <type>d:text</type>
               <multiple>true</multiple>
            </property>
            
            <property name="ask:visibility">
               <title>Visibility</title>
               <type>d:text</type>
               <constraints>
                  <constraint ref="ask:visibility" />
               </constraints>
            </property>
            
            <property name="ask:askid">
               <title>ASKID</title>
               <type>d:text</type>
            </property>

        </properties>
         
         <mandatory-aspects>
            <aspect>cm:ownable</aspect>
            <aspect>ask:status</aspect>
         </mandatory-aspects>
      </aspect>    


   </aspects>
   
</model>
