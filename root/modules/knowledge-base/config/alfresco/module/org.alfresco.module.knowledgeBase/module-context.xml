<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>
	
	<!-- Knowledge base model bootstrap bean -->
	<bean id="kb_dictionaryBootstrap" parent="dictionaryModelBootstrap" depends-on="dictionaryBootstrap">
		<property name="models">
		  	<list>
		    	<value>alfresco/module/org.alfresco.module.knowledgeBase/model/kbModel.xml</value>        
		    </list>
		</property>
	</bean> 
    
    <!-- Comment out for now -->
    <!--
    <bean id="kb_workflowBootstrap" parent="workflowDeployer">
		<property name="workflowDefinitions">
			<list>
			    <props>
			      <prop key="engineId">jbpm</prop>
			      <prop key="location">alfresco/module/org.alfresco.module.knowledgeBase/model/ask-review-process-definition.xml</prop>
			      <prop key="mimetype">text/xml</prop>
			      <prop key="redeploy">true</prop>
			    </props>
			</list>
		</property>
		<property name="models">
			<list>

			</list>
		</property>
		<property name="labels">
			<list>

			</list>
		</property>
	</bean>  
	-->    
	
	<!-- Knowledge base data bootstrap bean -->   
	<bean id="kb_bootstrapSpaces" class="org.alfresco.repo.module.ImporterModuleComponent" parent="module.baseComponent" depends-on="kb_dictionaryBootstrap">
	  	<property name="moduleId" value="org.alfresco.module.knowledgeBase" />
	    <property name="name" value="bootstrapSpaces" />
	    <property name="description" value="Initial data requirements" />
	    <property name="sinceVersion" value="1.0" />
	    <property name="appliesFromVersion" value="1.0" />    
	    <property name="importer" ref="spacesBootstrap"/>
	    <property name="bootstrapViews">
	    	<list>
	    		<!-- Knowledge base categories -->
		    	<props>
		        	<prop key="path">/cm:categoryRoot/cm:generalclassifiable</prop>
		            <prop key="location">alfresco/module/org.alfresco.module.knowledgeBase/bootstrap/kb_categories.xml</prop>
		        </props>
		        <!-- Knowledge base templates and scripts -->
		        <!-- 
		        <props>
		            <prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}</prop>
		        	<prop key="location">alfresco/module/org.alfresco.module.knowledgeBase/bootstrap/kb_data_dictionary.xml</prop>
		      	</props>
		      	-->	    	
		      	<!-- Knowledge space -->
				<props>
		      		<prop key="path">/${spaces.company_home.childname}</prop>
		        	<prop key="location">alfresco/module/org.alfresco.module.knowledgeBase/bootstrap/kb_space.xml</prop>
		      	</props>         	    
		      	<!-- Knowledge base web scripts -->    
		        <!--
		        <props>
		            <prop key="path">/${spaces.company_home.childname}/${spaces.dictionary.childname}/cm:webscripts/cm:org/cm:alfresco</prop>
		            <prop key="location">alfresco/module/org.alfresco.module.knowledgeBase/bootstrap/kb_webscripts.xml</prop>
		        </props>
		        -->      	
	    	</list>
	    </property>
	</bean>
	
	<!-- Import the behaviour configuration -->	
	<import resource="classpath:alfresco/module/org.alfresco.module.knowledgeBase/behaviour/behaviour-context.xml" />    
	
	<!-- Import the transform configuration -->
	<import resource="classpath:alfresco/module/org.alfresco.module.knowledgeBase/transform/custom-transform-context.xml" /> 
   
    <!-- Knowledge base web client configuration bootstrap bean -->
	<bean id="kb_configBootstrap" class="org.alfresco.web.config.WebClientConfigBootstrap" init-method="init" depends-on="kb_dictionaryBootstrap">
       <property name="configs">
         <list>
            <value>classpath:alfresco/module/org.alfresco.module.knowledgeBase/ui/web-client-custom.xml</value>
         </list>
       </property>
    </bean>  
    
</beans>

